require=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){function r(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function i(t,e,n){function r(e,n){return o.set(t,e,n),s}function i(e){return o.del(t,e),s}function a(e){return o.get(t,e)}var s={set:r,get:a,del:i};return 3===arguments.length?r(e,n):2==arguments.length?a(e):s}e.exports=i;var o;o="undefined"!=typeof document&&document.head&&document.head.dataset?{set:function(t,e,n){t.dataset[e]=n},get:function(t,e){return t.dataset[e]},del:function(t,e){delete t.dataset[e]}}:{set:function(t,e,n){t.setAttribute("data-"+r(e),n)},get:function(t,e){return t.getAttribute("data-"+r(e))},del:function(t,e){t.removeAttribute("data-"+r(e))}}},{}],2:[function(t,e,n){!function(){"use strict";n.digest=function(t){function e(t,e,n){return t&e|~t&n}function n(t,e,n){return t&n|e&~n}function r(t,e,n){return t^e^n}function i(t,e,n){return e^(t|~n)}function o(t){return[255&t,t>>>8&255,t>>>16&255,t>>>24&255]}function a(t,e,n,r,i,o,a,s){t[0]+=s(e[0],n[0],r[0])+w[i]+a,t[0]=t[0]<<o|t[0]>>>32-o,t[0]+=e[0]}var s,u,d,f,c,h,l,p,g,m,v,_,y,w,b;for(s=t.length,t.push(128),c=56-t.length&63,u=0;c>u;u++)t.push(0);for(o(8*s).forEach(function(e){t.push(e)}),[0,0,0,0].forEach(function(e){t.push(e)}),h=[1732584193],l=[4023233417],p=[2562383102],g=[271733878],u=0;u<t.length;u+=64){for(w=[],d=0;64>d;d+=4)f=u+d,w.push(t[f]|t[f+1]<<8|t[f+2]<<16|t[f+3]<<24);m=h[0],v=l[0],_=p[0],y=g[0],a(h,l,p,g,0,7,3614090360,e),a(g,h,l,p,1,12,3905402710,e),a(p,g,h,l,2,17,606105819,e),a(l,p,g,h,3,22,3250441966,e),a(h,l,p,g,4,7,4118548399,e),a(g,h,l,p,5,12,1200080426,e),a(p,g,h,l,6,17,2821735955,e),a(l,p,g,h,7,22,4249261313,e),a(h,l,p,g,8,7,1770035416,e),a(g,h,l,p,9,12,2336552879,e),a(p,g,h,l,10,17,4294925233,e),a(l,p,g,h,11,22,2304563134,e),a(h,l,p,g,12,7,1804603682,e),a(g,h,l,p,13,12,4254626195,e),a(p,g,h,l,14,17,2792965006,e),a(l,p,g,h,15,22,1236535329,e),a(h,l,p,g,1,5,4129170786,n),a(g,h,l,p,6,9,3225465664,n),a(p,g,h,l,11,14,643717713,n),a(l,p,g,h,0,20,3921069994,n),a(h,l,p,g,5,5,3593408605,n),a(g,h,l,p,10,9,38016083,n),a(p,g,h,l,15,14,3634488961,n),a(l,p,g,h,4,20,3889429448,n),a(h,l,p,g,9,5,568446438,n),a(g,h,l,p,14,9,3275163606,n),a(p,g,h,l,3,14,4107603335,n),a(l,p,g,h,8,20,1163531501,n),a(h,l,p,g,13,5,2850285829,n),a(g,h,l,p,2,9,4243563512,n),a(p,g,h,l,7,14,1735328473,n),a(l,p,g,h,12,20,2368359562,n),a(h,l,p,g,5,4,4294588738,r),a(g,h,l,p,8,11,2272392833,r),a(p,g,h,l,11,16,1839030562,r),a(l,p,g,h,14,23,4259657740,r),a(h,l,p,g,1,4,2763975236,r),a(g,h,l,p,4,11,1272893353,r),a(p,g,h,l,7,16,4139469664,r),a(l,p,g,h,10,23,3200236656,r),a(h,l,p,g,13,4,681279174,r),a(g,h,l,p,0,11,3936430074,r),a(p,g,h,l,3,16,3572445317,r),a(l,p,g,h,6,23,76029189,r),a(h,l,p,g,9,4,3654602809,r),a(g,h,l,p,12,11,3873151461,r),a(p,g,h,l,15,16,530742520,r),a(l,p,g,h,2,23,3299628645,r),a(h,l,p,g,0,6,4096336452,i),a(g,h,l,p,7,10,1126891415,i),a(p,g,h,l,14,15,2878612391,i),a(l,p,g,h,5,21,4237533241,i),a(h,l,p,g,12,6,1700485571,i),a(g,h,l,p,3,10,2399980690,i),a(p,g,h,l,10,15,4293915773,i),a(l,p,g,h,1,21,2240044497,i),a(h,l,p,g,8,6,1873313359,i),a(g,h,l,p,15,10,4264355552,i),a(p,g,h,l,6,15,2734768916,i),a(l,p,g,h,13,21,1309151649,i),a(h,l,p,g,4,6,4149444226,i),a(g,h,l,p,11,10,3174756917,i),a(p,g,h,l,2,15,718787259,i),a(l,p,g,h,9,21,3951481745,i),h[0]+=m,l[0]+=v,p[0]+=_,g[0]+=y}return b=[],o(h[0]).forEach(function(t){b.push(t)}),o(l[0]).forEach(function(t){b.push(t)}),o(p[0]).forEach(function(t){b.push(t)}),o(g[0]).forEach(function(t){b.push(t)}),b},n.digest_s=function(t){var e,r,i,t,o=[];for(e=0;e<t.length;e++)o.push(t.charCodeAt(e));return r=n.digest(o),i="",r.forEach(function(e){for(t=e.toString(16);t.length<2;)t="0"+t;i+=t}),i}}()},{}],xdls:[function(t,e,n){"use strict";function r(t){if(this.origin=t.origin,this.path=t.path,this.ready=!1,this.queue=[],this.messageId=0,this.callbacks={},this.instanceId=u++,!this.origin||!this.path)throw new Error("XDLS needs both an origin and a path specified in the constructor options.");for(var e=0;e<s.length;++e)this[s[e]]=this._handleMethod.bind(this,s[e]);("undefined"==typeof t.init||t.init)&&this.init()}e.exports=r;var i=t("md5"),o=t("dataset"),a="xdls:",s=["clear","getItem","key","keys","length","removeItem","setItem"],u=0;r.prototype.init=function(){var t=this;if(!t._iframe){if(!window.postMessage||!window.JSON)throw new Error("XDLS requires both postMossage and JSON support.");var e=t._onLoaded.bind(t),n=t._onMessage.bind(t),r="xdls-"+i.digest_s(t.origin+t.path),a=document.getElementById(r);if(a?(t._iframe=a,o(t._iframe,"loaded")&&e()):(t._iframe=document.createElement("iframe"),t._iframe.id=r,t._iframe.setAttribute("sandbox","allow-scripts allow-same-origin"),o(t._iframe,"origin",t.origin),o(t._iframe,"path",t.path),t._iframe.style.cssText="width:1px; height:1px; display: none;",function s(){return document.body?void document.body.appendChild(t._iframe):void setTimeout(s,100)}()),window.addEventListener)t._iframe.addEventListener("load",e,!1),window.addEventListener("message",n,!1);else{if(!t._iframe.attachEvent)throw new Error("XDLS could not properly bind for event handling.");t._iframe.attachEvent("onload",e,!1),window.attachEvent("onmessage",n)}a||(t._iframe.src=t.origin+t.path)}},r.prototype._onLoaded=function(){var t=this;t.ready=!0,o(t._iframe,"loaded",!0);for(var e;e=t.queue.shift();)t._sendMessage(e)},r.prototype._handleMethod=function(){var t=this,e=Array.prototype.slice.call(arguments,0),n=e.shift(),r=null;t.init(),e.length&&"function"==typeof e[e.length-1]&&(r=e.pop()),++t.messageId;var i=t.instanceId+"."+t.messageId;r&&(t.callbacks[i]=r);var o={id:i,method:n,arguments:e};t.ready?t._sendMessage(o):t.queue.push(o)},r.prototype._sendMessage=function(t){var e=this;e._iframe.contentWindow.postMessage(a+JSON.stringify(t),e.origin)},r.prototype._onMessage=function(t){var e=this;if(t.origin&&-1!==e.origin.indexOf(t.origin)&&t.data&&0===t.data.indexOf(a)){var n=JSON.parse(t.data.substring(a.length));e.callbacks[n.id]&&(n.error?e.callbacks[n.id](n):e.callbacks[n.id](null,n.result),delete e.callbacks[n.id])}}},{dataset:1,md5:2}]},{},[]);
//# sourceMappingURL=xdls-0.1.8.min.js.map